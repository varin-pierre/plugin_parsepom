<#include "parsepom_tabs.html" />
<@tabs tab="dependency" />

<br />
<div class="row" >
    <div class="col-xs-6 col-sm-6 col-md-12 col-lg-12">

		<div class="hidden">
		        <@messages infos=infos />
		
		        <form method="post"  action="jsp/site/Portal.jsp?page=dependency">
		            <button name="view_createDependency" class="btn btn-primary pull-right" type="submit">
		                <span class="glyphicon glyphicon-plus"></span>
		                #i18n{parsepom.manage_dependencys.buttonAdd}
		            </button>
		        </form>
		
		    <h4>#i18n{parsepom.manage_dependencys.tableLabel}</h4>
		        
		    <table class="table table-condensed table-striped">
		        <tr>
		            <input type="hidden" id="id" name="id"/>
		            <th>#i18n{parsepom.manage_dependencys.columnGroupId}</th>
		            <th>#i18n{parsepom.manage_dependencys.columnArtifactId}</th>
		            <th>#i18n{parsepom.manage_dependencys.columnVersion}</th>
		            <th>#i18n{parsepom.manage_dependencys.columnType}</th>
		            <th>#i18n{parsepom.manage_dependencys.columnSiteId}</th>
		            <th>#i18n{portal.util.labelActions}</th>
		        </tr>
		            <#list dependency_list as dependency >
		        <tr>
		            <input type="hidden" id="id" name="id" />
		            <td>
		                ${dependency.groupId}
		            </td>    
		            <td>
		                ${dependency.artifactId}
		            </td>    
		            <td>
		                ${dependency.version}
		            </td>    
		            <td>
		                ${dependency.type}
		            </td>    
		            <td>
		                ${dependency.siteId}
		            </td>    
		        <td>
		            <a href="jsp/site/Portal.jsp?page=dependency&view=modifyDependency&id=${dependency.id}"
		               class="btn btn-primary btn-small" title="#i18n{portal.util.labelModify}">
		                <span class="glyphicon glyphicon-edit"></span>
		            </a>
		
		            <a href="jsp/site/Portal.jsp?page=dependency&action=removeDependency&id=${dependency.id}"
		               class="btn btn-danger btn-small" title="#i18n{portal.util.labelDelete}" >
		                <span class="glyphicon glyphicon-trash"></span>
		            </a>
		        </td>
		        </tr>
		        </#list>
		    </table>
		</div>
		
	    <div class="dropdown align">
		  		<button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Lutece core
		  		<span class="caret"></span></button>
		  		<ul class="dropdown-menu">
		  		<#list dependency_list_without_duplicates as dependency >
		  			<#if "${dependency.artifactId}" == "lutece-core">
		                <li><a href="jsp/site/Portal.jsp?page=dependency&view=detailsDependency&id=${dependency.id}">${dependency.artifactId}</a></li>
		            </#if>
		    	</#list>
		  		</ul>
			</div>
		    <div class="dropdown align">
		  		<button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Lutece plugins list
		  		<span class="caret"></span></button>
		  		<ul class="dropdown-menu">
		  		<#list dependency_list_without_duplicates as dependency >
		  			<#assign y = "${dependency.artifactId}">
		  			<#assign len = "${y?length}"?number>
		  			<#if len gte 6>
			  			<#if "${y?substring(0,6)}" == "plugin">
			                <li><a href="jsp/site/Portal.jsp?page=dependency&view=detailsDependency&id=${dependency.id}">${dependency.artifactId}</a></li>
			            </#if>
			        </#if>
		    	</#list>
		  		</ul>
			</div>
		<div class="dropdown align">
	  		<button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Lutece modules list
	  		<span class="caret"></span></button>
	  		<ul class="dropdown-menu">
	  		<#list dependency_list_without_duplicates as dependency >
	  			<#assign y = "${dependency.artifactId}">
	  			<#assign len = "${y?length}"?number>
	  			<#if len gte 6>
	  				<#if "${y?substring(0,6)}" == "module">
	               		<li><a href="jsp/site/Portal.jsp?page=dependency&view=detailsDependency&id=${dependency.id}">${dependency.artifactId}</a></li>
	            	</#if>
	            </#if>
	    	</#list>
	  		</ul>
		</div>
		<div class="dropdown align">
	  		<button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Lutece libraries list
	  		<span class="caret"></span></button>
	  		<ul class="dropdown-menu">
	  		<#list dependency_list_without_duplicates as dependency >
	  			<#assign y = "${dependency.artifactId}">
	  			<#assign len = "${y?length}"?number>
                <#if len gte 6>
	  				<#if "${y?substring(0,7)}" == "library">
	            	   <li><a href="jsp/site/Portal.jsp?page=dependency&view=detailsDependency&id=${dependency.id}">${dependency.artifactId}</a></li>
	            	</#if>
	            </#if>
	    	</#list>
	  		</ul>
		</div>
		<div class="dropdown align">
	  		<button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Lutece others list
	  		<span class="caret"></span></button>
	  		<ul class="dropdown-menu">
	  		<#list dependency_list_without_duplicates as dependency >
	  			<#assign y = "${dependency.artifactId}">
	  				<#if "${y?substring(0,3)}" != "lib" && "${y?substring(0,3)}" != "mod" && "${y?substring(0,3)}" != "plu" && "${y?substring(0,3)}" != "lut">
	            	   <li><a href="jsp/site/Portal.jsp?page=dependency&view=detailsDependency&id=${dependency.id}">${dependency.artifactId}</a></li>
	            	</#if>
	    	</#list>
	  		</ul>
		</div>
    </div>
</div>